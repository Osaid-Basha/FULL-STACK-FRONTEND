<!-- Start Agent Properties Section - Updated to match main property card design -->
<div class="py-5 border-top">
  <div class="container">
    <div class="section-header text-center mb-5">
      <div class="bg-soft-primary d-inline-block fw-medium mb-3 rounded-pill section-header__subtitle text-capitalize text-primary">
        Properties
      </div>
      <h2 class="h1 fw-semibold mb-3 section-header__title text-capitalize">
        Agent's <span class="underline position-relative text-primary">Listings</span>
      </h2>
      <div class="sub-title fs-16">
        Browse the properties listed by this agent.
      </div>
    </div>

    <div *ngIf="agentProperties.length > 0; else noProperties">
      <div class="row g-4">
        <div class="col-12" *ngFor="let property of agentProperties; let i = index" data-aos="fade-up" [attr.data-aos-delay]="i * 100">
          <div class="card mb-4 overflow-hidden bg-grey border-0 shadow rounded-3">
            <a [routerLink]="['/buyerHome/properties-details', property.id]" [state]="{ data: property }" class="stretched-link"></a>

            <div class="card-body p-0">
              <div class="row g-0">
                <div class="bg-white col-lg-5 col-md-6 col-xl-3 position-relative">
                  <div class="card-image-hover overflow-hidden position-relative h-100">
                    <img [src]="property.image" alt="" class="h-100 w-100 object-fit-cover" />
                    <div class="card-property-badge d-inline-block end-1 fs-13 fw-semibold position-absolute property-tags px-2 py-1 rounded-3 top-1">
                      {{ property.tag || 'Featured' }}
                    </div>
                  </div>
                </div>

                <div class="bg-white col-lg-7 col-md-6 col-xl-6 p-3 p-lg-4 p-md-3 p-sm-4">
                  <div class="d-flex flex-column h-100">
                    <div class="mb-4">
                      <h6 class="fs-23 mb-2">{{ property.title }}</h6>
                      <div class="fs-16">
                        <i class="fa-solid fa-location-dot"></i> {{ property.address || 'Unknown Location' }}
                      </div>
                      <div class="mt-3">{{ property.description }}</div>
                    </div>
                    <div class="border card-property-facilities gap-2 hstack mt-auto p-3 pt-3 rounded-3 text-center">
                      <div>
                        <i class="fa-solid fa-bed text-dark me-1"></i><span>{{ property.beds || 0 }} Beds</span>
                      </div>
                      <span class="vr"></span>
                      <div>
                        <i class="fa-solid fa-bath text-dark me-1"></i><span>{{ property.baths || 0 }} Baths</span>
                      </div>
                      <span class="vr"></span>
                      <div>
                        <i class="fa-solid fa-vector-square text-dark me-1"></i><span>{{ property.size || 'N/A' }}</span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-lg-12 col-md-12 col-xl-3 p-3 p-lg-4 p-md-3 p-sm-4">
                  <div class="row h-100 align-items-center justify-content-center gap-2">
                    <div class="col col-xl-12">
                      <div class="align-items-sm-center d-sm-flex d-xl-block">
                        <div class="d-flex justify-content-center align-items-end card-property-price flex-row gap-1">
                          <h2 class="m-0 fw-semibold text-primary">{{ property.price }}</h2>
                          <div>/{{ property.period || 'Month' }}</div>
                        </div>
                        <div class="flex-grow-1 mt-2 ms-sm-3 ms-xl-0 mt-xl-2 text-center">
                          <strong class="small fw-semibold">(incl. VAT)</strong>
                          <div class="small">Per booking</div>
                        </div>
                      </div>
                    </div>
                    <div class="col-auto d-flex flex-wrap gap-1 justify-content-center position-relative z-1">
                      <button type="button" class="border-0 btn btn-outline-default btn-sm fw-medium shadow-sm">
                        <i class="fa fa-phone fs-14 me-1"></i>Call
                      </button>
                      <button type="button" class="border-0 btn btn-outline-default btn-sm fw-medium shadow-sm">
                        <i class="fa fa-user-tie fs-14 me-1"></i>Email
                      </button>
                      <button type="button" class="border-0 btn btn-outline-default btn-sm fw-medium shadow-sm">
                        <i class="fa fa-phone fs-14 me-1"></i>WhatsApp
                      </button>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- No Properties Found -->
    <ng-template #noProperties>
      <div class="text-center text-muted fs-5 mt-4">
        No properties available for this agent at the moment.
      </div>
    </ng-template>
  </div>
</div>
<!-- /. End Agent Properties Section -->

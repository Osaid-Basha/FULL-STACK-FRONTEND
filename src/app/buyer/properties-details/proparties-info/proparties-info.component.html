<div class="h-details_content py-5">
  <div class="container py-4">
    <div class="row g-4">

      <!-- Start Main Content (Left Side) -->
      <div class="col-lg-8 content pe-xxl-5">

        <!-- Location + Title -->
        <div class="mb-5 border-bottom pb-5" data-aos="fade-up">
          <div class="fs-16 mb-1">
            <i class="fa-solid fa-location-dot me-1"></i>{{ address }}
          </div>
          <h2 class="mt-0" data-aos="fade-up">
            {{ property?.title || 'Property Title' }}
          </h2>

          <div class="card-property-facilities gap-2 hstack mt-auto pt-3 text-center" data-aos="fade-up" data-aos-delay="100">
            <div><i class="fa-solid fa-bed text-dark me-1"></i><span>{{ bedrooms }} bedroom</span></div>
            <span class="vr"></span>
            <div><i class="fa-solid fa-bath text-dark me-1"></i><span>{{ bathrooms }} bathroom</span></div>
            <span class="vr"></span>
            <div><i class="fa-solid fa-vector-square text-dark me-1"></i><span>{{ area }} sqft</span></div>
            <span class="vr"></span>
            <div><i class="fa-solid fa-calendar-days text-dark me-1"></i><span>Built in {{ yearBuilt }}</span></div>
          </div>
        </div>

        <!-- About -->
        <div class="mb-5 border-bottom pb-5" data-aos="fade-up">
          <h4 class="fw-semibold mb-4 text-capitalize">About the <span class="text-primary">property</span></h4>
          <p *ngIf="property?.description">{{ property.description }}</p>
          <p *ngFor="let paragraph of about">{{ paragraph }}</p>
        </div>

        <!-- Amenities -->
        <div class="mb-5 border-bottom pb-5" data-aos="fade-up" data-aos-delay="100">
          <h4 class="fw-semibold mb-4 text-capitalize">Amenities <span class="text-primary">available</span></h4>
          <div class="row g-4">
            <div class="col-auto col-lg-4" *ngFor="let amenity of amenities" data-aos="fade-up" data-aos-delay="200">
              <div class="d-flex align-items-center text-dark">
                <i class="{{ amenity.icon }} fs-18 me-2"></i>
                <span class="fs-16 fw-medium">{{ amenity.name }}</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Floor Plan -->
        <div class="mb-5 border-bottom pb-5" data-aos="fade-up">
          <h4 class="fw-semibold mb-4 text-capitalize">Floor <span class="text-primary">Plans</span></h4>
          <img [src]="floorPlanImage" class="img-fluid" alt="Floor Plan" />
        </div>
        <!-- Agent Info -->
        <div class="mb-5 border-bottom pb-5" data-aos="fade-up" *ngIf="agent">
          <h4 class="fw-semibold mb-4 text-capitalize">Reach the <span class="text-primary">agent</span></h4>
          <div class="agent-card d-flex align-items-center">
            <div class="flex-shrink-0">
              <div class="avatar rounded-circle p-1 border border-primary position-relative">
                <img [src]="agent.image" class="avatar-img rounded-circle" alt="" />
              </div>
            </div>
            <div class="flex-grow-1 ms-3">
              <h5 class="mb-1">{{ agent.name }}</h5>
              <div>{{ agent.title }}</div>
            </div>
          </div>
        </div>

        <!-- Reviews -->
        <div class="mb-4" data-aos="fade-up">
          <h4 class="fw-semibold mb-4 text-capitalize">Reviews & <span class="text-primary">Ratings</span></h4>
          <div class="row">
            <div class="col-sm-6 col-lg-4 mb-4" *ngFor="let t of testimonials; let i = index" data-aos="fade-up" [attr.data-aos-delay]="i * 100" data-aos-duration="600">
              <div class="card rounded-4 shadow border-0 h-100">
                <div class="card-body p-4 d-flex flex-column justify-content-between">
                  <div>
                    <div class="d-flex flex-wrap text-warning gap-1 mb-2 fs-12">
                      <ng-container *ngFor="let star of [1,2,3,4,5]">
                        <i class="fa-solid fa-star"></i>
                      </ng-container>
                      <span class="text-dark">({{ t.rating }}/5)</span>
                    </div>
                    <h5>{{ t.title }}</h5>
                    <p>{{ t.content }}</p>
                  </div>
                  <div class="d-flex align-items-center mt-4">
                    <img [src]="t.image" class="rounded-circle me-3" width="60" height="60" />
                    <div>
                      <h6 class="mb-0">{{ t.name }}</h6>
                      <small class="text-primary">{{ t.username }}</small>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

      <!-- Sidebar (Right Side) -->
      <div class="col-lg-4 sidebar">
        <div class="appointment-form p-3 p-lg-4 p-xl-5 rounded-4 shadow" style="position: sticky; top: 100px; z-index: 10;">
          <div>{{ propertyType }}</div>
          <h2 class="fw-bold">${{ price }} USD</h2>

          <ul class="nav nav-tabs mb-5" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link ms-0 active" id="tab-one" data-bs-toggle="tab"
                      data-bs-target="#tab-one-pane" type="button" role="tab"
                      aria-controls="tab-one-pane" aria-selected="true">
                Schedule a Tour
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="tab-two" data-bs-toggle="tab"
                      data-bs-target="#tab-two-pane" type="button" role="tab"
                      aria-controls="tab-two-pane" aria-selected="false">
                Request Quote
              </button>
            </li>
          </ul>

          <div class="tab-content">
            <!-- Schedule a Tour -->
            <div class="tab-pane fade show active" id="tab-one-pane" role="tabpanel">
              <form (submit)="scheduleTour()">
                <div class="row g-4">
                  <div class="col-sm-12">
                    <div class="form-group has-icon">
                      <label class="required fw-semibold text-dark">Phone Number</label>
                      <input type="number" class="form-control" placeholder="Phone Number"
                             [(ngModel)]="form.phone" name="phone" required />
                      <i class="fa-solid fa-mobile-button form-icon fs-16 position-absolute top-50"></i>
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <div class="form-group has-icon">
                      <label class="required fw-semibold text-dark">Appointment Date</label>
                      <input type="text" class="form-control datepicker" placeholder="mm-dd-yyyy"
                             [(ngModel)]="form.date" name="date" />
                      <i class="fa-regular fa-calendar-days form-icon fs-16 position-absolute top-50"></i>
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <div class="form-group has-icon">
                      <label class="required fw-semibold text-dark">Email</label>
                      <input type="email" class="form-control" placeholder="Enter Your Email"
                             [(ngModel)]="form.email" name="email" />
                      <i class="fa-solid fa-envelope form-icon fs-16 position-absolute top-50"></i>
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <button class="btn btn-primary btn-lg w-100" type="submit">Schedule a Tour</button>
                  </div>
                </div>
              </form>
            </div>

            <!-- Request Quote -->
            <div class="tab-pane fade" id="tab-two-pane" role="tabpanel">
              <form (submit)="requestQuote()">
                <div class="row g-4">
                  <div class="col-sm-12">
                    <div class="form-group has-icon">
                      <label class="required fw-semibold text-dark">Phone Number</label>
                      <input type="number" class="form-control" placeholder="Phone Number"
                             [(ngModel)]="form.phone" name="phone2" required />
                      <i class="fa-solid fa-mobile-button form-icon fs-16 position-absolute top-50"></i>
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <div class="form-group has-icon">
                      <label class="required fw-semibold text-dark">Appointment Date</label>
                      <input type="text" class="form-control datepicker" placeholder="mm-dd-yyyy"
                             [(ngModel)]="form.date" name="date2" />
                      <i class="fa-regular fa-calendar-days form-icon fs-16 position-absolute top-50"></i>
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <div class="form-group has-icon">
                      <label class="required fw-semibold text-dark">Email</label>
                      <input type="email" class="form-control" placeholder="Enter Your Email"
                             [(ngModel)]="form.email" name="email2" />
                      <i class="fa-solid fa-envelope form-icon fs-16 position-absolute top-50"></i>
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <button class="btn btn-primary btn-lg w-100" type="submit">Request Info</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <!-- End Sidebar -->

    </div>
  </div>
</div>
